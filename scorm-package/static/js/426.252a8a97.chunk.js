"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[426],{43190:(e,n,t)=>{t.d(n,{q:()=>a});var i=t(45992),o=t(17588),l=t(66264),u=t(60708),d=t(34895),r=t(25e3);const a=e=>{let{getItems:n,item:t,menuType:a,theme:s,shouldCloseWhenClickOutside:m=!1,itemSize:c,menuTheme:v}=e;const[h,g]=(0,o.useState)(n()),[f,p]=(0,o.useState)(!1),T=(0,o.useCallback)((()=>{p((e=>!e))}),[]);null===t||void 0===t||t.on(l.q.Message,(e=>{e===u.m.Entering&&(g(n()),p(!1))}));const y=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const i=n=>{t.current&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("mouseup",i,n),document.addEventListener("touchend",i,n),()=>{document.removeEventListener("mouseup",i,n),document.removeEventListener("touchend",i,n)}}),[t,e,n]),t}((0,o.useCallback)((()=>{m&&f&&p(!1)}),[f,m]),!0);(0,o.useEffect)((()=>{g(n())}),[n]);const w=(0,d.CO)(a);return(0,r.T)({theme:s,children:(0,i.jsx)(w,{items:h,onToggleClick:T,opened:f,ref:y,theme:s,itemSize:c,menuTheme:v})})}},933:(e,n,t)=>{t.d(n,{N:()=>l,e:()=>d});var i=t(48237);const o=(e,n)=>""===e?n("__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,l=(e,n)=>e.map(((e,t)=>{var l;const u=(null===(l=e.menuItemAction.action)||void 0===l?void 0:l.type)===i.L.GoToSlide;return{text:o(e.menuItemName,n),key:t,onClick:()=>{},isLink:u,isActive:!1,isAllowed:u,altText:e.altText}})),u={active:!1,allowed:!1},d=(e,n)=>e.map(((e,t)=>{var l,d;const r=!!(null===(l=e.menuItemAction)||void 0===l?void 0:l.data)&&(null===(a=e.menuItemAction.data)||void 0===a?void 0:a.type)===i.L.GoToSlide;var a;const{active:s,allowed:m}=r&&(null===(d=e.menuItemAction)||void 0===d?void 0:d.data)?n.getGoToSlideState(e.menuItemAction.data):u;return{text:o(e.menuItemName,n.t),key:t,onClick:()=>{var n;return null===(n=e.menuItemAction)||void 0===n?void 0:n.run()},isLink:r,isActive:s,isAllowed:m,altText:e.altText}}))},70426:(e,n,t)=>{t.r(n),t.d(n,{geniallyMenuViewScript:()=>r});var i=t(45992),o=t(41381),l=t(42511),u=t(43190),d=t(933);const r=(e,n)=>{(0,o.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:()=>{var t,o;const{config:r,item:a}=e,{menuItems:s,menuType:m,menuTheme:c}=r,v=()=>(0,d.e)(s,n),h={width:null!==(t=null===a||void 0===a?void 0:a.width)&&void 0!==t?t:0,height:null!==(o=null===a||void 0===a?void 0:a.height)&&void 0!==o?o:0};return()=>(0,i.jsx)(l.W,{children:(0,i.jsx)(u.q,{getItems:v,item:a,menuType:m,theme:n.theme,itemSize:h,shouldCloseWhenClickOutside:!0,menuTheme:c})})}})(e,n)}},41381:(e,n,t)=>{t.d(n,{p:()=>u});var i=t(70377),o=t(66264),l=t(60708);function u(e){let{getTargetNodeItem:n,renderApp:t,renderThumbnailApp:u,initialState:d}=e,r=!1;const a=[],s=e=>{a.push(e)};return e=>{const m=n(e.config),c=null===m||void 0===m?void 0:m.parentSlide;function v(){if(!m)return;let e=null;if("idOfFreeNode"in m)e=document.getElementById(m.idOfFreeNode);else{const n=document.createElement("div");n.innerHTML=m.source;let t=n.getElementsByClassName("genially-widget-app");t.length||(t=n.getElementsByClassName("genially-widget-gallery"));const{id:i}=t[0];if(!i)return;e=document.getElementById(i)}if(e){const n=o=>{if(r){const l=t({setState:n,onUnmount:s});i.render(l(o),e)}else console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};r=!0,n(d),a.push((()=>{i.unmountComponentAtNode(e)}))}}function h(){r=!1,a.forEach((e=>{e()})),a.length=0}null===m||void 0===m||m.on(o.q.Mount,(()=>{v()})),null===m||void 0===m||m.on(o.q.Unmount,(()=>{h()})),m&&"isTransversal"in m&&m.isTransversal?v():null===c||void 0===c||c.on(l.m.Entering,(()=>{r||v()})),null===c||void 0===c||c.on(l.m.Exited,(()=>{m&&"isTransversal"in m&&m.isTransversal||r&&h()})),null===c||void 0===c||c.on(l.m.ThumbnailMount,(()=>{!function(){if(!u||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{i.unmountComponentAtNode(e)}))}(),function(){if(!u||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{i.render(u(),e)}))}()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/426.252a8a97.chunk.js.map